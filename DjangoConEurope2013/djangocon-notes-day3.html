<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>djangocon day 3 &mdash; Foobacca Event Notes 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Foobacca Event Notes 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Foobacca Event Notes 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="djangocon-day-3">
<h1>djangocon day 3<a class="headerlink" href="#djangocon-day-3" title="Permalink to this headline">¶</a></h1>
<div class="section" id="keynote">
<h2>Keynote<a class="headerlink" href="#keynote" title="Permalink to this headline">¶</a></h2>
<p>&#64;pydanny</p>
<p>traditional to rant about django in keynote</p>
<p>more +ve - pull requests - running events - writing books</p>
<p>this talk is about why &#8220;Django is awesome&#8221;</p>
<ol class="arabic simple">
<li>django is everywhere</li>
<li>python has a style guide (and the zen of python)</li>
<li>awesome API - understandable, conventions (though boring)</li>
</ol>
<ul class="simple">
<li>pro-tip: while Fat Models are great, they can become obese -&gt; break
code into helper functions</li>
<li>api conventions encourage clean design</li>
<li>we don&#8217;t fight about architecture, get things done</li>
</ul>
<ol class="arabic simple" start="4">
<li>django views are functions</li>
<li>awesome longevity</li>
</ol>
<ul class="simple">
<li>slow deprecation</li>
</ul>
<ol class="arabic simple" start="6">
<li>awesome features</li>
</ol>
<ul class="simple">
<li>admin ...</li>
<li>pro-tip: django.contrib.admin + NoSQL - DON&#8217;T DO IT - write from
scratch</li>
</ul>
<ol class="arabic simple" start="7">
<li>Django&#8217;s full stack is awesome</li>
</ol>
<ul class="simple">
<li>dominates hackathons</li>
<li>lots of companies just use stock Django/python and nothing else</li>
</ul>
<ol class="arabic simple" start="8">
<li>3rd party package ecosystem</li>
<li>awesome documentation 10 django is humble</li>
</ol>
<ul class="simple">
<li>critical talks, shape the code, shape the community 11 generosity</li>
</ul>
</div>
<div class="section" id="class-based-views-untangling-the-mess">
<h2>Class Based Views - untangling the mess<a class="headerlink" href="#class-based-views-untangling-the-mess" title="Permalink to this headline">¶</a></h2>
<p>history - lots of common patterns in view - generic views - template,
single object, list of objects, forms ... - but generic views don&#8217;t
allow logic insertion, limited config options ... - so let&#8217;s go class
based (released in Django 1.3, talked about since 1.0)</p>
<p>why bad reaction? - confusion over purpose - confusion over
implementation choices - complexity necessary, but not obvious why -
ravioli code - nicely packaged, but internals opaque, steep learning
curve - bad docs</p>
<p>Purpose - 2 distinct but connected bodies of work - class based views -
class based analog of view - http verb based methods - get automatic
code for free - OPTIONS, HEAD, HTTP 405 ... - class based generic views
- built on top of class based views - analogs of the old generic views -
address limits of functional approach - requires learning to know how
and where to extend</p>
<p>Implementation Choices - django wiki page on Class Based Views - lots of
discussion archived here - what does class view mean? - (btw, admin is a
class based view) - factory classmethod, returns function that invokes
dispatch() - (could have done, urls.py could be either callable or class
- but wanted to keep urls.py contract clear, as other things use that.
trade off)</p>
<p>Ravioli - goal: replace function-based generics with class-based generic
- end point - series of mixins - basic update view has 9 classes! wtf -
but then create view reuses almost all of that - another single class
change creates a JSON response instead of a template response - allows
for maximum reuse - very flexible - easy to add mixins - BUT you need to
grok it - bad docs originally, but much better now, and need to decide
about best practice</p>
<p>Next - better docs - decide on standard way of eg login required -
extend - experiment with API - django&#8217;s admin?</p>
<p>Have we solved the wrong problem? - multiple forms and formsets (see bug
#18830 about FormCollection ) - conditional forms - continuous
scrolling, not pagination - ajax support (eg in place editing) - pjax -
multiple &#8220;actions&#8221; per page</p>
<p>================== Morning Break =================</p>
</div>
<div class="section" id="the-advantages-of-diversity">
<h2>The advantages of diversity<a class="headerlink" href="#the-advantages-of-diversity" title="Permalink to this headline">¶</a></h2>
<p>communities - watched what works well and doesn&#8217;t over many years open
source is great - building amazing software infrastructure</p>
<p>live in a multi-dimensional world - often define line and put people
along it - but ultimately hard to ignore</p>
<p>good/bad, republican/democrat, python/ruby, friend/stranger,
native/foreigner ...</p>
<p>&#8220;you always know where you are with a bigot&#8221;</p>
<p>issue is polarisation - good = preferred value - bad = any other value</p>
<p>Venn-diagram world view - still either inside or outside</p>
<p>tolerance - requires respect for others point of view - value range of
opinions - &#8220;you tell me your truth and I&#8217;ll tell you mine&#8221; Bevan - admit
we might be wrong occasionally</p>
<p>open source not representative - even of tech industry - some feel this
is fine, more comfortable - yet ignores huge swathes of people who could
help - a project&#8217;s single greatest asset is its people</p>
<p>if we&#8217;re not welcoming, we&#8217;re exclusionary</p>
<p>we&#8217;re all limited, danger of groupthink</p>
<p>programmers tend to ignore roles outside of s/w dev and design - docs -
django stands out, even python docs could be a lot better - plenty of
other important roles to round out large tech projects - expand
diversity to help us fill the roles</p>
<p>open source projects are generally not professionally run</p>
<p>python website update coming - make it easier for contributors to update
the sections they contribute to</p>
<p>we do have a good community, but need to avoid being smug and complacent</p>
</div>
<div class="section" id="principle-philosophy">
<h2>Principle Philosophy<a class="headerlink" href="#principle-philosophy" title="Permalink to this headline">¶</a></h2>
<p>thoughts about the rules or belief governing one&#8217;s behaviour how can I
be a good person? how can I be a good programmer?</p>
<p>logic? black and white rules?</p>
<p>Immanuel Kant reason vs instinct moral obligations - duty - the goal /
volition - universal lawfulness</p>
<p>priori vs posteriori (principles vs experience)</p>
<p>we are the sum of our experiences - so add to our experiences - network
experiences - shared by others eg at DjangoCon - &#8220;everything looks
different from the trenches&#8221;</p>
<p>story - hated little league baseball, crap at it - parents said had to
play - monetary incentive - home run = money - worked out was doing it
to keep parent&#8217;s happy - duty - not entirely bad thing</p>
<p>lesson learned</p>
<ul class="simple">
<li>swing for the fences</li>
<li>big vision/dream, motivated, big risks</li>
<li>hacker league</li>
<li>set reasonable goals along the way</li>
<li>you suck ... and that&#8217;s totally OK</li>
<li>quitting is easy - I&#8217;ve done it thousands of times - who the hell
knows -&gt; at least try your best before giving up. persistence is a
good thing</li>
<li>build principles</li>
<li>one size doesn&#8217;t fit all</li>
<li>learn from experiences and share them</li>
<li>...</li>
</ul>
<p>====== LUNCH =======</p>
</div>
<div class="section" id="continuous-integration">
<h2>continuous integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h2>
<p>lion taming / code taming</p>
<p>old way</p>
<ul class="simple">
<li>deploy by hand</li>
<li>hack till it works</li>
<li>confusion - <em>special</em> decisions</li>
</ul>
<p>lion taming - understand, conditioning, behaviour -&gt; response trust</p>
<ul class="simple">
<li>understand -&gt; deploy hard</li>
<li>conditioning -&gt; CI</li>
<li>push -&gt; test-&gt; green</li>
<li>happy</li>
<li>trust - it works in live</li>
</ul>
<p>team - committed to quality - everyone deploys - identical environments
- everyone is responsible</p>
<p>working code - tests - unit, acceptance (user&#8217;s viewpoint) - quick,
reliable - slow tests -&gt; fail - no pylint fail - commit often, rollback
- both dev + qa responsible - don&#8217;t let tests rot - break tests -
triage: right now vs asap</p>
<p>repeatable build - automated - no manual changes</p>
<p>deploy - script - not just code - config infrastructure - always follow
the pipeline - even in emergencies</p>
<p>rollback - you will break stuff! - blue is the new green (blue is
working on live) - canary servers - databasea - keep backwards
compatible</p>
<p>release - last step - automatic - small changes, frequent, get
experience, less risk - maybe, maybe just to staging server</p>
<p>tips - split in components - rehearse releases - get very good at them -
manage and test infrastructure - eg test email sending - all
environments equal (vagrant) - automate everything, if really not
possible then document, but will drift</p>
</div>
<div class="section" id="does-your-stuff-scale">
<h2>Does your stuff scale<a class="headerlink" href="#does-your-stuff-scale" title="Permalink to this headline">¶</a></h2>
<p>p.ota.to grew from 1 developer to 70 - with django and google app engine</p>
<p>scalability - load - functional - add more features without too much
effort - organisational - do more, hire better people - geographic</p>
<div class="section" id="django-and-google-app-engine">
<h3>django and google app engine<a class="headerlink" href="#django-and-google-app-engine" title="Permalink to this headline">¶</a></h3>
<p>why? - auto-scaling - services and APIs - no sys admin</p>
<p>caveats - sandbox - can&#8217;t run <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span></tt> - file system - block
store, but no traditional fs - portability - lock in?</p>
<p>options for g a e - django-nonrel - django fork with nosql back end -
shallow learning curve, more reusable - BUT familiarity can be
misleading, can feel &#8216;heavy&#8217;/kludgy - djappengine - built in to app
engine, use appengine data store directly - &#8220;best of both worlds&#8221;, use
NDB - learning curve steeper, not portable - app engine + cloud sql -
google&#8217;s version of django - fully supported django - relational
database - more set up, not as scalable as other options</p>
</div>
<div class="section" id="technical-scaling">
<h3>technical scaling<a class="headerlink" href="#technical-scaling" title="Permalink to this headline">¶</a></h3>
<p>load - planning - caching - offline tasks - preparation - load tests,
profiling</p>
<p>functional - django! - app engine - services/apis - memcache, email,
search, images ... - versioning - 10 testable versions per app - A/B
testing, traffic splitting - sdk</p>
</div>
<div class="section" id="scaling-organisation-and-culture">
<h3>scaling organisation and culture<a class="headerlink" href="#scaling-organisation-and-culture" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>organisational</li>
<li>be a minimalist</li>
<li>remove bottlenecks and overhead</li>
<li>autonomy</li>
<li>build lots of small apps internally - just do it</li>
<li>&#8220;just make good things&#8221;</li>
<li>geographic</li>
<li>build and deploy from anywhere - trains, pubs, beaches</li>
</ul>
</div>
</div>
<div class="section" id="dynamic-models-in-django">
<h2>Dynamic Models in Django<a class="headerlink" href="#dynamic-models-in-django" title="Permalink to this headline">¶</a></h2>
<p>classic - models defined in development - inflexible</p>
<p>use cases - custom content types for CMS eg. add end date - customised
products for an ecommerce shop - clinical research forms</p>
<p>config by domain experts is better than code customisation by developers
dynamic models reduce the number of deployment cycles</p>
<p>As a user I - want to maintain my dynamic models easily with
understanding django - don&#8217;t want to care what is static or dynamic -
search across both</p>
<p>As a developer - want dynamic models to be integrated (admin,
migrations, reversion ...) - want to apply same API as for static - any
db - customisable front end</p>
<p>criteria - performance - query-bility - standard tools - suuprted
backend - complexity/maintainability</p>
<p>EAV - put attribute pairs in rows - django-eav and eav-django - not
great performance</p>
<p>serialise dictionaries - django-djsonfield - django-picklefield -
django-dynamic-model</p>
<p>runtime schema updates - use south etc - dynamic-models, django-dymo,
django-dynamo - all proof of concept really - django-mutant - most
mature currently</p>
<p>database specific - hstore - nosql</p>
</div>
<div class="section" id="lightning-talks">
<h2>Lightning Talks<a class="headerlink" href="#lightning-talks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="html5lib">
<h3>html5lib<a class="headerlink" href="#html5lib" title="Permalink to this headline">¶</a></h3>
<p>Now at version 1.0, supports python 3</p>
</div>
<div class="section" id="scrapy">
<h3>scrapy<a class="headerlink" href="#scrapy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>screen scraping library</li>
<li>built on twisted</li>
<li>parses badly formed html nicely for you</li>
<li>batteries included, good docs ...</li>
<li>makes web spiders dead easy to write</li>
</ul>
</div>
<div class="section" id="get-kids-to-learn-online">
<h3>Get kids to learn online<a class="headerlink" href="#get-kids-to-learn-online" title="Permalink to this headline">¶</a></h3>
<p>started by offering money - counterproductive extrinsic vs intrinsic try
doing both? 3 groups - control - reward every time - 10% less quantity,
lower quality - random rewards, might help a bit</p>
</div>
<div class="section" id="django-fluent-pages">
<h3>django-fluent-pages<a class="headerlink" href="#django-fluent-pages" title="Permalink to this headline">¶</a></h3>
<p>django-fluent.org</p>
</div>
<div class="section" id="deploy-tools">
<h3>deploy tools<a class="headerlink" href="#deploy-tools" title="Permalink to this headline">¶</a></h3>
<p>mana, git-deploy, capistrano</p>
</div>
<div class="section" id="invisible-and-intentional-mgt">
<h3>invisible and intentional mgt<a class="headerlink" href="#invisible-and-intentional-mgt" title="Permalink to this headline">¶</a></h3>
<p>care about people - push to be best they can - keep them excited reward
team work be invisible autonomy - give freedom and responsibility to
share status and ... experiment find your team</p>
</div>
<div class="section" id="mini-lightning-talks">
<h3>mini-lightning talks<a class="headerlink" href="#mini-lightning-talks" title="Permalink to this headline">¶</a></h3>
<p>relationships - you are not with the perfect person - commit to the
person and make it good - same goes for software</p>
<p>evildmp/django-inspector - ./manage.py follow_all_links -&gt; report</p>
</div>
<div class="section" id="spdy">
<h3>SPDY<a class="headerlink" href="#spdy" title="Permalink to this headline">¶</a></h3>
<p>django over spdy put it in jython - use java container that already
supports SPDY much faster for many small items</p>
</div>
<div class="section" id="make-site-load-faster">
<h3>make site load faster<a class="headerlink" href="#make-site-load-faster" title="Permalink to this headline">¶</a></h3>
<p>connection pooling (db) cache templates (django-crispy-forms uses lots
of template fragments) - use template loaders pjax - jquery-pjax and
django-easy-pjax</p>
</div>
<div class="section" id="salt-stack">
<h3>salt stack<a class="headerlink" href="#salt-stack" title="Permalink to this headline">¶</a></h3>
<p>minions command line and files</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">djangocon day 3</a><ul>
<li><a class="reference internal" href="#keynote">Keynote</a></li>
<li><a class="reference internal" href="#class-based-views-untangling-the-mess">Class Based Views - untangling the mess</a></li>
<li><a class="reference internal" href="#the-advantages-of-diversity">The advantages of diversity</a></li>
<li><a class="reference internal" href="#principle-philosophy">Principle Philosophy</a></li>
<li><a class="reference internal" href="#continuous-integration">continuous integration</a></li>
<li><a class="reference internal" href="#does-your-stuff-scale">Does your stuff scale</a><ul>
<li><a class="reference internal" href="#django-and-google-app-engine">django and google app engine</a></li>
<li><a class="reference internal" href="#technical-scaling">technical scaling</a></li>
<li><a class="reference internal" href="#scaling-organisation-and-culture">scaling organisation and culture</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dynamic-models-in-django">Dynamic Models in Django</a></li>
<li><a class="reference internal" href="#lightning-talks">Lightning Talks</a><ul>
<li><a class="reference internal" href="#html5lib">html5lib</a></li>
<li><a class="reference internal" href="#scrapy">scrapy</a></li>
<li><a class="reference internal" href="#get-kids-to-learn-online">Get kids to learn online</a></li>
<li><a class="reference internal" href="#django-fluent-pages">django-fluent-pages</a></li>
<li><a class="reference internal" href="#deploy-tools">deploy tools</a></li>
<li><a class="reference internal" href="#invisible-and-intentional-mgt">invisible and intentional mgt</a></li>
<li><a class="reference internal" href="#mini-lightning-talks">mini-lightning talks</a></li>
<li><a class="reference internal" href="#spdy">SPDY</a></li>
<li><a class="reference internal" href="#make-site-load-faster">make site load faster</a></li>
<li><a class="reference internal" href="#salt-stack">salt stack</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/DjangoConEurope2013/djangocon-notes-day3.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Foobacca Event Notes 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Hamish Downer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>